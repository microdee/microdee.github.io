import{r as n,R as i,j as M,M as oe}from"./index-s9tuF7dK.js";const F=n.forwardRef((t,e)=>{const s={position:"absolute",top:0,left:0,width:"100%",height:"100%",willChange:"clip",userSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return i.createElement("div",Object.assign({},t,{style:s,"data-rcs":"clip-item",ref:e}))});F.displayName="ContainerClip";const $=n.forwardRef(({children:t,portrait:e},s)=>{const a={position:"absolute",top:0,width:"100%",height:"100%",pointerEvents:"none"},l={position:"absolute",width:e?"100%":void 0,height:e?void 0:"100%",transform:e?"translateY(-50%)":"translateX(-50%)",pointerEvents:"all"};return i.createElement("div",{style:a,"data-rcs":"handle-container",ref:s},i.createElement("div",{style:l},t))});$.displayName="ThisHandleContainer";const H=({flip:t})=>{const e={width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:t?"rotate(180deg)":void 0};return i.createElement("div",{style:e})},ce=({portrait:t,buttonStyle:e,linesStyle:s,style:a,...l})=>{const c={display:"flex",flexDirection:t?"row":"column",placeItems:"center",height:"100%",cursor:t?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...a},u={flexGrow:1,height:t?2:"100%",width:t?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 7px rgba(0,0,0,.35)",...s},d={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",boxShadow:"0 0 7px rgba(0,0,0,.35)",transform:t?"rotate(90deg)":void 0,...e};return i.createElement("div",Object.assign({className:"__rcs-handle-root"},l,{style:c}),i.createElement("div",{className:"__rcs-handle-line",style:u}),i.createElement("div",{className:"__rcs-handle-button",style:d},i.createElement(H,null),i.createElement(H,{flip:!0})),i.createElement("div",{className:"__rcs-handle-line",style:u}))},ie=({boxSizing:t="border-box",objectFit:e="cover",objectPosition:s="center",...a}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:t,objectFit:e,objectPosition:s,...a}),ae=t=>{const e=n.useRef(t);return n.useEffect(()=>{e.current=t}),e.current},X=(t,e,s,a)=>{const l=n.useRef();n.useEffect(()=>{l.current=e},[e]),n.useEffect(()=>{if(!(s&&s.addEventListener))return;const c=u=>l.current&&l.current(u);return s.addEventListener(t,c,a),()=>{s.removeEventListener(t,c,a)}},[t,s,a])},le=typeof window<"u"&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect,ue=(t,e)=>{const s=n.useRef(),a=n.useCallback(()=>{t.current&&s.current&&s.current.observe(t.current)},[t]);le(()=>(s.current=new ResizeObserver(([l])=>e(l.contentRect)),a(),()=>{s.current&&s.current.disconnect()}),[e,a])},x={passive:!0},Y={capture:!0,passive:!1},de=({handle:t,itemOne:e,itemTwo:s,onlyHandleDraggable:a=!1,onPositionChange:l,portrait:c=!1,position:u=50,boundsPadding:d=0,changePositionOnHover:W=!1,style:V,...K})=>{const f=n.useRef(null),B=n.useRef(null),k=n.useRef(null),m=n.useRef(u),I=ae(u),[y,T]=n.useState(!1),S=n.useRef(!1),[U,G]=n.useState(),[A,q]=n.useState(!1);n.useEffect(()=>{G(a?k.current:f.current)},[a]);const h=n.useCallback(function({x:o,y:w,isOffset:b,portrait:E,boundsPadding:O}){const{top:ee,left:te,width:R,height:C}=f.current.getBoundingClientRect();if(R===0||C===0)return;const ne=Math.min(Math.max(E?b?w-ee-window.pageYOffset:w:b?o-te-window.pageXOffset:o,0),E?C:R),j=E?C/(f.current.offsetHeight||1):R/(f.current.offsetWidth||1),g=ne/j,P=R/j,z=C/j,_=g/(E?z:P)*100,se=E?g===0||g===z:g===0||g===P,re=_===m.current&&(m.current===0||m.current===100);if(A&&re&&se)return;q(!0),m.current=_;const L=Math.min(Math.max(g,0+O),(E?z:P)-O);B.current.style.clip=E?`rect(auto,auto,${L}px,auto)`:`rect(auto,${L}px,auto,auto)`,k.current.style.transform=E?`translate3d(0,${L}px,0)`:`translate3d(${L}px,0,0)`,l&&l(m.current)},[A,l]);n.useEffect(()=>{const{width:r,height:o}=f.current.getBoundingClientRect(),w=u===I?m.current:u;h({portrait:c,boundsPadding:d,x:r/100*w,y:o/100*w})},[c,u,I,d,h]);const N=n.useCallback(r=>{r.preventDefault(),h({portrait:c,boundsPadding:d,isOffset:!0,x:r instanceof MouseEvent?r.pageX:r.touches[0].pageX,y:r instanceof MouseEvent?r.pageY:r.touches[0].pageY}),T(!0)},[c,d,h]),p=n.useCallback(function(o){h({portrait:c,boundsPadding:d,isOffset:!0,x:o instanceof MouseEvent?o.pageX:o.touches[0].pageX,y:o instanceof MouseEvent?o.pageY:o.touches[0].pageY})},[c,d,h]),v=n.useCallback(()=>{T(!1)},[]),J=n.useCallback(({width:r,height:o})=>{const{width:w,height:b}=f.current.getBoundingClientRect();h({portrait:c,boundsPadding:d,x:r/100*m.current*w/r,y:o/100*m.current*b/o})},[c,d,h]);n.useEffect(()=>(y&&!S.current&&(window.addEventListener("mousemove",p,x),window.addEventListener("mouseup",v,x),window.addEventListener("touchmove",p,x),window.addEventListener("touchend",v,x),S.current=!0),()=>{S.current&&(window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",v),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",v),S.current=!1)}),[p,v,y]),ue(f,J),n.useEffect(()=>{const r=f.current,o=()=>{y||v()};return W&&(r.addEventListener("mousemove",p,x),r.addEventListener("mouseleave",o,x)),()=>{r.removeEventListener("mousemove",p),r.removeEventListener("mouseleave",o)}},[W,p,v,y]),X("mousedown",N,U,Y),X("touchstart",N,U,Y);const Q=t||i.createElement(ce,{portrait:c}),Z={position:"relative",overflow:"hidden",cursor:y?c?"ns-resize":"ew-resize":void 0,userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...V};return i.createElement("div",Object.assign({},K,{ref:f,style:Z,"data-rcs":"root"}),s,i.createElement(F,{ref:B},e),i.createElement($,{portrait:c,ref:k},Q))},D=({style:t,...e})=>{const s=ie(t);return i.createElement("img",Object.assign({},e,{style:s,"data-rcs":"image"}))};class me extends i.Component{constructor(e){super(e)}renderSlider(){let e={...this.props};return delete e.ls,delete e.rs,delete e.full,delete e.children,M.jsx(de,{className:"md-expand",itemOne:M.jsx(D,{src:this.props.ls,...e}),itemTwo:M.jsx(D,{src:this.props.rs,...e})})}render(){return"full"in this.props&&this.props.full?M.jsx(oe,{children:this.renderSlider()}):this.renderSlider()}}export{me as default};
